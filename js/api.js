const features = [
{"title":"Translation","calculationUnit":[{"type":"CAT Wordcount","steps":["5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe1","sizes":[],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0},{"type":"Page","steps":["6037b8bd180bb711b9be8b44","600a80647e09196834dcb6f4","5fda0d0d9df9b83e57ecafe8"],"active":true,"editable":true,"_id":"600a80717e09196834dcb716","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0d9df9b83e57ecafe8","symbol":"translation","isStage1":true,"isStage2":false,"isEditor":true,"__v":0},
{"title":"Revising","calculationUnit":[{"type":"CAT Wordcount","steps":["5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe1","sizes":[],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0d9df9b83e57ecafea","symbol":"revising","isStage1":false,"isStage2":true,"isEditor":true,"__v":0},
{"title":"Editing","calculationUnit":[{"type":"Target Wordcount","steps":["5fda0d0e9df9b83e57ecaff2","5fda0d0e9df9b83e57ecafec"],"active":true,"editable":true,"_id":"600a800f7e09196834dcb5fd","sizes":["1"],"__v":0},{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0e9df9b83e57ecafec","symbol":"editing","isStage1":true,"isStage2":false,"isEditor":true,"__v":0},
{"title":"QA","calculationUnit":[{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0e9df9b83e57ecaff0","symbol":"qa","isStage1":true,"isStage2":true,"isEditor":true,"__v":0},
{"title":"Copywriting","calculationUnit":[{"type":"Packages","steps":["60743ac142268053268a77c7","60743ad142268053268a780d","5fda0d0e9df9b83e57ecaff2"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe3","sizes":["50","1"],"__v":0},{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0},{"type":"Target Wordcount","steps":["5fda0d0e9df9b83e57ecaff2","5fda0d0e9df9b83e57ecafec"],"active":true,"editable":true,"_id":"600a800f7e09196834dcb5fd","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0e9df9b83e57ecaff2","symbol":"copywriting","isStage1":true,"isStage2":false,"isEditor":true,"__v":0},
{"title":"Proofreading","calculationUnit":[{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0},{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0e9df9b83e57ecaff4","symbol":"proofreading","isStage1":true,"isStage2":true,"isEditor":true,"__v":0},
{"title":"Graphic Design","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0}],"isActive":true,"_id":"5fda0d0e9df9b83e57ecaff5","symbol":"graphic_design","isStage1":true,"isStage2":true,"isEditor":false,"__v":0},{"title":"ICR-A","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0}],"isActive":true,"_id":"600a7f797e09196834dcb5ae","symbol":"icr-a","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"ICR-B","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0}],"isActive":true,"_id":"600a7f847e09196834dcb5d0","symbol":"icr-b","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"DTP","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0},{"type":"Page","steps":["6037b8bd180bb711b9be8b44","600a80647e09196834dcb6f4","5fda0d0d9df9b83e57ecafe8"],"active":true,"editable":true,"_id":"600a80717e09196834dcb716","sizes":["1"],"__v":0}],"isActive":true,"_id":"600a80647e09196834dcb6f4","symbol":"dtp","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Certified Translation","calculationUnit":[{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0},{"type":"Page","steps":["6037b8bd180bb711b9be8b44","600a80647e09196834dcb6f4","5fda0d0d9df9b83e57ecafe8"],"active":true,"editable":true,"_id":"600a80717e09196834dcb716","sizes":["1"],"__v":0}],"isActive":true,"_id":"6037b8bd180bb711b9be8b44","symbol":"certified_translation","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"TransCreation","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"604630749a545a5d10aaa9e8","symbol":"transcreation","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Subtitling","calculationUnit":[{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0},{"type":"Minute","steps":["604630b79a545a5d10aaabd8","604770424039ae6ca9e51208","618e8208588061c37cf47bf6","620379da345df723567f24b8"],"active":true,"editable":true,"_id":"604630e49a545a5d10aaad5e","sizes":["1"],"__v":0}],"isActive":true,"_id":"604630b79a545a5d10aaabd8","symbol":"subtitling","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},{"title":"LQA","calculationUnit":[{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"604770004039ae6ca9e511c0","symbol":"lqa","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},{"title":"Transcription","calculationUnit":[{"type":"Minute","steps":["604630b79a545a5d10aaabd8","604770424039ae6ca9e51208","618e8208588061c37cf47bf6","620379da345df723567f24b8"],"active":true,"editable":true,"_id":"604630e49a545a5d10aaad5e","sizes":["1"],"__v":0}],"isActive":true,"_id":"604770424039ae6ca9e51208","symbol":"transcription","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Compliance","calculationUnit":[{"type":"Compliance Basic","steps":["606f05e0bc331f5c2ba560a0"],"active":true,"editable":true,"_id":"619b953fa20f4c4a54f8deab","__v":0},{"type":"Compliance Advance","steps":["606f05e0bc331f5c2ba560a0"],"active":true,"editable":true,"_id":"619b9550a20f4c4a54f8dfa4","__v":0},{"type":"Compliance Expert","steps":["606f05e0bc331f5c2ba560a0"],"active":true,"editable":true,"_id":"619b9577a20f4c4a54f8e0a1","__v":0}],"isActive":true,"_id":"606f05e0bc331f5c2ba560a0","symbol":"compliance","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Newsletter CW","calculationUnit":[{"type":"Packages","steps":["60743ac142268053268a77c7","60743ad142268053268a780d","5fda0d0e9df9b83e57ecaff2"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe3","sizes":["50","1"],"__v":0}],"isActive":true,"_id":"60743ac142268053268a77c7","symbol":"newsletter_cw","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},{"title":"SMS CW","calculationUnit":[{"type":"Packages","steps":["60743ac142268053268a77c7","60743ad142268053268a780d","5fda0d0e9df9b83e57ecaff2"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe3","sizes":["50","1"],"__v":0}],"isActive":true,"_id":"60743ad142268053268a780d","symbol":"sms_cw","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Know Your Game","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0},{"type":"Minute","steps":["604630b79a545a5d10aaabd8","604770424039ae6ca9e51208","618e8208588061c37cf47bf6","620379da345df723567f24b8"],"active":true,"editable":true,"_id":"604630e49a545a5d10aaad5e","sizes":["1"],"__v":0}],"isActive":true,"_id":"618e8208588061c37cf47bf6","symbol":"know_your_game","isStage1":true,"isStage2":false,"isEditor":false,"__v":0},
{"title":"Post-Editing","calculationUnit":[{"type":"CAT Wordcount","steps":["5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe1","sizes":[],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"61dbfdb348eb887029b364b3","__v":0},{"title":"Voice-over","calculationUnit":[{"type":"Hours","steps":["5fda0d0e9df9b83e57ecaff5","604630749a545a5d10aaa9e8","600a7f797e09196834dcb5ae","600a7f847e09196834dcb5d0","618e8208588061c37cf47bf6","600a80647e09196834dcb6f4","5fda0d0e9df9b83e57ecaff2","620379da345df723567f24b8","5fda0d0e9df9b83e57ecafec","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":false,"_id":"5fda0d0d9df9b83e57ecafe5","sizes":["1"],"__v":0},{"type":"Minute","steps":["604630b79a545a5d10aaabd8","604770424039ae6ca9e51208","618e8208588061c37cf47bf6","620379da345df723567f24b8"],"active":true,"editable":true,"_id":"604630e49a545a5d10aaad5e","sizes":["1"],"__v":0},{"type":"Source Word","steps":["5fda0d0e9df9b83e57ecaff0","604630b79a545a5d10aaabd8","604770004039ae6ca9e511c0","604630749a545a5d10aaa9e8","6037b8bd180bb711b9be8b44","5fda0d0e9df9b83e57ecaff2","5fda0d0d9df9b83e57ecafea","5fda0d0d9df9b83e57ecafe8","61dbfdb348eb887029b364b3","620379da345df723567f24b8","5fda0d0e9df9b83e57ecaff4"],"active":true,"editable":true,"_id":"5ffdc088961b710f5f3bebf9","sizes":["1"],"__v":0}],"isActive":true,"_id":"620379da345df723567f24b8","__v":0}
]

const refs = {
    container: document.querySelector('.container'),
    stepValue: document.querySelector('.step-value'),
    unitValue: document.querySelector('.unit-value'),
    icon: document.querySelector('.icon-1'),
    btn: document.querySelector('.btn-1'),
    stepsList: document.querySelector('.steps'),
    unitsBtn: document.querySelector('.btn-2'),
    unitsList: document.querySelector('.units'),
    icon2: document.querySelector('.icon-2'),
    stepName: document.querySelector('.step-name'),
    optionName: document.querySelector('.option-name'),
}

const stepsStr = features.map(({title}) => {
    
    const markup = `  <button><li class="steps-item">${title}</li></button>`;
   
   
    return markup;
}).join('');

refs.stepsList.insertAdjacentHTML('beforeend', stepsStr);

refs.stepsList.addEventListener('click', onStepsListClick);
refs.unitsList.addEventListener('click', onUnitsListClick)
refs.btn.addEventListener("click", onStepsBtnClick);
refs.unitsBtn.addEventListener("click", onUnitsBtnClick);


  function onStepsBtnClick() {
refs.icon.classList.toggle('js-transform');
refs.stepsList.classList.toggle('is-hidden');
refs.unitsBtn.classList.add('is-hidden');
  }

  function onStepsListClick(e) {

      refs.stepName.textContent = e.target.textContent;
      refs.stepsList.classList.add('is-hidden');
      refs.unitsBtn.classList.remove('is-hidden');
      refs.stepValue.textContent = e.target.textContent;
      refs.icon.classList.remove('js-transform');
      const mapeArr = features.map(({title, calculationUnit}) => {
            if(e.target.textContent === title) {
                const options = [];
                const type = calculationUnit.map(({type}) => {
                    options.push(type);
                    const units = options.map(option => {
                        const markup = `  <button><li class="steps-item">${option}</li></button>`;
                        return markup;
                    }).join('');
                    // console.log(options);
                    
                    refs.unitsList.innerHTML = units;
                    // refs.unit.addEventListener("change", setUnitOutput);
                   
                    
                });
                return;
            }
  })
}

  function onUnitsBtnClick() {
    refs.icon2.classList.toggle('js-transform');
    refs.unitsList.classList.toggle('is-hidden');
  
  }

  function onUnitsListClick(e) {
    refs.optionName.textContent = e.target.textContent;
    refs.unitsList.classList.add('is-hidden');
    refs.unitValue.textContent = e.target.textContent;
    refs.icon2.classList.remove('js-transform');
  }
